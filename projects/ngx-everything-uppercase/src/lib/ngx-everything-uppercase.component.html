
<div class="pricing-plans">
    <div *ngFor="let plan of plans;" class="pricing-plan" [ngClass]="plan.class" [ngStyle]="{
        'border-color':plan.styles.primaryColor, 
        'border-radius':plan.styles.borderRadius,
        'padding':plan.styles.padding, 
        'margin':plan.styles.margin
    }"> 
        <div class="popular-label" *ngIf="plan.badge">
            <span class="diag" [ngStyle]="{'background':plan.styles.primaryColor}">{{plan.badge.text}}</span>
        </div>
        <div class="pp-top" [ngStyle]="{'color':plan.styles.primaryColor}">
            <div class="up">
                <div class="pp-name">{{plan.name}}</div>
                <div class="pp-price">
                    {{plan.price ? plan.price : 'Free'}}
                    <sub *ngIf="plan.type == 'recurring'">
                        <span *ngIf="plan.interval == 'monthly'">
                            per month
                        </span>
                        <span *ngIf="plan.interval == 'annual'">
                            per annum
                        </span>
                    </sub>
                    <sub *ngIf="plan.type == 'onetime'">
                        pay one time
                    </sub>
                </div>
                <div class="pp-detail" *ngIf="user.planName === plan.name">
                    <div class="pp-detail-icon">
                        <div class="svg-circle">
                            <svg fill="none" height="21" viewBox="0 0 28 21" width="28"
                                xmlns="http://www.w3.org/2000/svg">
                                <path clip-rule="evenodd"
                                    d="M10.1073 20.4328L0.387573 10.7131L3.1091 7.99157L10.1073 14.9898L24.8813 0.21579L27.6028 2.93731L10.1073 20.4328Z"
                                    [ngStyle]="
                                    {
                                        'fill':plan.styles.primaryColor
                                    }
                                    " fill-rule="evenodd"></path>
                            </svg>
                            <span class="svg-bg" [ngStyle]="
                            {
                                'background':plan.styles.primaryColor
                            }
                            "></span>
                        </div>
                    </div>
                    <div class="pp-detail-text"></div>
                </div>
            </div>
          
        </div>
        <div class="pp-bottom">
            <div class="features" [ngStyle]="
            {
                'color':plan.styles.primaryColor
            }
            ">
                <div class="feat" *ngFor="let feature of plan.features;">
                    <div class="feat-icon">
                        <ng-template [ngIf]="feature.icon.length > 0">
                            <div class="icon">
                                {{feature.icon}}
                            </div>
                        </ng-template>
                        <ng-template [ngIf]="feature.icon.length == 0">
                            <div class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="21" viewBox="0 0 28 21"
                                    fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd" [ngStyle]="
                                    {
                                        'fill':plan.styles.primaryColor
                                    }
                                    "
                                        d="M10.1073 20.4328L0.387573 10.7131L3.1091 7.99157L10.1073 14.9898L24.8813 0.21579L27.6028 2.93731L10.1073 20.4328Z" />
                                </svg>
                            </div>
                        </ng-template>
                    </div>
                    <div class="feat-text">{{feature.text}}</div>
                </div>
            </div>
            <div class="down">
                <div class="pp-status">
                    <!-- <div *ngIf="user.planName === plan.name">
                        <p class="pp-status-text">Current Plan</p>
                    </div> -->
                    <div class="free-trial">
                        <div class="days-left" *ngIf="user.planName == plan.name && user.trial.days !==0">
                            <svg width="18px" height="19px" viewBox="0 0 18 19" version="1.1"
                                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="pricing" transform="translate(-693.000000, -686.000000)">
                                        <g id="Group-5" transform="translate(643.000000, 246.000000)">
                                            <g id="STAR" transform="translate(48.000000, 438.000000)">
                                                <path
                                                    d="M11.1724821,9.17717388 L13.3035111,10.4176749 C13.8045581,10.7093412 14.424183,10.7071474 14.9231522,10.4119405 L17.1814583,9.0758507 C17.5596753,8.85208478 18.0476789,8.97729216 18.2714448,9.35550919 C18.426943,9.61833773 18.4183018,9.94697284 18.2492062,10.2012664 L16.8830081,12.2558167 C16.5409568,12.7702089 16.5255771,13.4355562 16.843495,13.9652037 L18.169319,16.1740108 C18.4296926,16.6077902 18.2891195,17.1705125 17.85534,17.4308861 C17.5681011,17.6032997 17.2096547,17.6051638 16.9206381,17.435747 L14.6695657,16.1162057 C14.1429238,15.807497 13.4865121,15.8253599 12.977439,16.1622535 L10.939663,17.5108096 C10.5730328,17.7534375 10.0791314,17.6529138 9.83650346,17.2862836 C9.66868429,17.0326954 9.65999656,16.7056546 9.81411557,16.4435143 L11.1327163,14.2007121 C11.4225852,13.7076753 11.4272381,13.0974072 11.1449205,12.6000078 L9.910609,10.4253441 C9.66001272,9.98383264 9.81478003,9.42276847 10.2562915,9.17217219 C10.5408177,9.01067872 10.889736,9.01258355 11.1724821,9.17717388 Z"
                                                    id="Rectangle" fill="#6E61D9"
                                                    transform="translate(14.122807, 13.357143) rotate(45.000000) translate(-14.122807, -13.357143) ">
                                                </path>
                                                <path
                                                    d="M4.08574829,3.10621116 L5.23593321,3.77574949 C5.73698023,4.0674158 6.35660517,4.06522198 6.85557433,3.77001505 L8.09173242,3.03866237 C8.3438771,2.88948509 8.66921284,2.97295668 8.81839011,3.22510136 C8.92205558,3.40032039 8.91629475,3.61941046 8.80356436,3.78893951 L8.07944372,4.87790478 C7.73739243,5.39229692 7.72201271,6.05764425 8.03993066,6.5872918 L8.75030622,7.77076908 C8.92388866,8.05995537 8.83017322,8.43510356 8.54098693,8.608686 C8.3494943,8.72362836 8.11053002,8.72487109 7.91785228,8.61192659 L6.70394237,7.90035274 C6.17730051,7.59164401 5.52088878,7.60950691 5.01181566,7.9464005 L3.93053559,8.66196828 C3.68611543,8.82372026 3.35684785,8.75670446 3.19509588,8.5122843 C3.08321643,8.34322552 3.07742461,8.12519832 3.18017061,7.95043808 L3.90307945,6.72084558 C4.1929484,6.22780875 4.19760127,5.61754065 3.91528371,5.1201413 L3.24449957,3.93832462 C3.07743538,3.64398366 3.18061359,3.26994089 3.47495454,3.1028767 C3.66463868,2.99521439 3.89725093,2.99648427 4.08574829,3.10621116 Z"
                                                    id="Rectangle" fill="#E07281"
                                                    transform="translate(6.052632, 5.892857) rotate(45.000000) translate(-6.052632, -5.892857) ">
                                                </path>
                                                <path
                                                    d="M3.25846652,16.399441 L3.62397618,16.6122091 C4.1250232,16.9038755 4.74464814,16.9016816 5.2436173,16.6064747 L5.66205699,16.3589117 C5.81334381,16.2694053 6.00854525,16.3194883 6.09805161,16.4707751 C6.16025089,16.5759065 6.1567944,16.7073606 6.08915616,16.809078 L5.87869749,17.1255752 C5.53664621,17.6399674 5.52126648,18.3053147 5.83918443,18.8349623 L6.05720127,19.1981757 C6.16135074,19.3716875 6.10512148,19.5967764 5.9316097,19.7009259 C5.81671412,19.7698913 5.67333556,19.7706369 5.55772891,19.7028702 L5.17354899,19.4776703 C4.64690712,19.1689616 3.9904954,19.1868245 3.48142228,19.5237181 L3.1653389,19.7328953 C3.0186868,19.8299464 2.82112626,19.789737 2.72407507,19.6430849 C2.6569474,19.5416496 2.65347231,19.4108333 2.71511991,19.3059771 L2.96147527,18.8869524 C3.25134421,18.3939156 3.25599708,17.7836475 2.97367953,17.2862481 L2.75371729,16.8987091 C2.65347877,16.7221045 2.71538569,16.4976788 2.89199027,16.3974403 C3.00580075,16.3328429 3.1453681,16.3336048 3.25846652,16.399441 Z"
                                                    id="Rectangle" fill="#7AC58C"
                                                    transform="translate(4.438596, 18.071429) rotate(45.000000) translate(-4.438596, -18.071429) ">
                                                </path>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg> {{user.trial.days}} days trial left
                        </div>
                        <div class="days-left" *ngIf="user.planName != plan.name && user.trial.days !==0 ">
                            <svg width="18px" height="19px" viewBox="0 0 18 19" version="1.1"
                                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g id="pricing" transform="translate(-693.000000, -686.000000)">
                                        <g id="Group-5" transform="translate(643.000000, 246.000000)">
                                            <g id="STAR" transform="translate(48.000000, 438.000000)">
                                                <path
                                                    d="M11.1724821,9.17717388 L13.3035111,10.4176749 C13.8045581,10.7093412 14.424183,10.7071474 14.9231522,10.4119405 L17.1814583,9.0758507 C17.5596753,8.85208478 18.0476789,8.97729216 18.2714448,9.35550919 C18.426943,9.61833773 18.4183018,9.94697284 18.2492062,10.2012664 L16.8830081,12.2558167 C16.5409568,12.7702089 16.5255771,13.4355562 16.843495,13.9652037 L18.169319,16.1740108 C18.4296926,16.6077902 18.2891195,17.1705125 17.85534,17.4308861 C17.5681011,17.6032997 17.2096547,17.6051638 16.9206381,17.435747 L14.6695657,16.1162057 C14.1429238,15.807497 13.4865121,15.8253599 12.977439,16.1622535 L10.939663,17.5108096 C10.5730328,17.7534375 10.0791314,17.6529138 9.83650346,17.2862836 C9.66868429,17.0326954 9.65999656,16.7056546 9.81411557,16.4435143 L11.1327163,14.2007121 C11.4225852,13.7076753 11.4272381,13.0974072 11.1449205,12.6000078 L9.910609,10.4253441 C9.66001272,9.98383264 9.81478003,9.42276847 10.2562915,9.17217219 C10.5408177,9.01067872 10.889736,9.01258355 11.1724821,9.17717388 Z"
                                                    id="Rectangle" fill="#6E61D9"
                                                    transform="translate(14.122807, 13.357143) rotate(45.000000) translate(-14.122807, -13.357143) ">
                                                </path>
                                                <path
                                                    d="M4.08574829,3.10621116 L5.23593321,3.77574949 C5.73698023,4.0674158 6.35660517,4.06522198 6.85557433,3.77001505 L8.09173242,3.03866237 C8.3438771,2.88948509 8.66921284,2.97295668 8.81839011,3.22510136 C8.92205558,3.40032039 8.91629475,3.61941046 8.80356436,3.78893951 L8.07944372,4.87790478 C7.73739243,5.39229692 7.72201271,6.05764425 8.03993066,6.5872918 L8.75030622,7.77076908 C8.92388866,8.05995537 8.83017322,8.43510356 8.54098693,8.608686 C8.3494943,8.72362836 8.11053002,8.72487109 7.91785228,8.61192659 L6.70394237,7.90035274 C6.17730051,7.59164401 5.52088878,7.60950691 5.01181566,7.9464005 L3.93053559,8.66196828 C3.68611543,8.82372026 3.35684785,8.75670446 3.19509588,8.5122843 C3.08321643,8.34322552 3.07742461,8.12519832 3.18017061,7.95043808 L3.90307945,6.72084558 C4.1929484,6.22780875 4.19760127,5.61754065 3.91528371,5.1201413 L3.24449957,3.93832462 C3.07743538,3.64398366 3.18061359,3.26994089 3.47495454,3.1028767 C3.66463868,2.99521439 3.89725093,2.99648427 4.08574829,3.10621116 Z"
                                                    id="Rectangle" fill="#E07281"
                                                    transform="translate(6.052632, 5.892857) rotate(45.000000) translate(-6.052632, -5.892857) ">
                                                </path>
                                                <path
                                                    d="M3.25846652,16.399441 L3.62397618,16.6122091 C4.1250232,16.9038755 4.74464814,16.9016816 5.2436173,16.6064747 L5.66205699,16.3589117 C5.81334381,16.2694053 6.00854525,16.3194883 6.09805161,16.4707751 C6.16025089,16.5759065 6.1567944,16.7073606 6.08915616,16.809078 L5.87869749,17.1255752 C5.53664621,17.6399674 5.52126648,18.3053147 5.83918443,18.8349623 L6.05720127,19.1981757 C6.16135074,19.3716875 6.10512148,19.5967764 5.9316097,19.7009259 C5.81671412,19.7698913 5.67333556,19.7706369 5.55772891,19.7028702 L5.17354899,19.4776703 C4.64690712,19.1689616 3.9904954,19.1868245 3.48142228,19.5237181 L3.1653389,19.7328953 C3.0186868,19.8299464 2.82112626,19.789737 2.72407507,19.6430849 C2.6569474,19.5416496 2.65347231,19.4108333 2.71511991,19.3059771 L2.96147527,18.8869524 C3.25134421,18.3939156 3.25599708,17.7836475 2.97367953,17.2862481 L2.75371729,16.8987091 C2.65347877,16.7221045 2.71538569,16.4976788 2.89199027,16.3974403 C3.00580075,16.3328429 3.1453681,16.3336048 3.25846652,16.399441 Z"
                                                    id="Rectangle" fill="#7AC58C"
                                                    transform="translate(4.438596, 18.071429) rotate(45.000000) translate(-4.438596, -18.071429) ">
                                                </path>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                            {{user.trial.days}} days free trial
                        </div>
                    </div>
                    <button *ngIf="user.planName !== plan.name && user.trial && user.trial.days && user.trial.days > 0"
                        class="pp-status-btn" [ngStyle]="
                    {
                        'border-color': plan.styles.primaryColor, 
                        'color': plan.styles.primaryColor
                    }
                    " (click)="acceptPlan(plan)">Start
                        Free Trial</button>

                    <button class="pp-status-btn" *ngIf="user.planName === plan.name" (click)="deactivePlan(plan)">Cancel
                        Plan</button>
                </div>

            </div>
        </div>
    </div>
</div>